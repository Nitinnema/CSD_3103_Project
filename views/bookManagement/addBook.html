<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Management</title>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <style>
        .custom-toast {
            font-family: 'Arial, sans-serif';
            font-size: 14px;
            font-weight: bold;
        }
    </style>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container mt-3 mb-5" style="width: 60%;">
        <h3 class="mb-2">Add Book</h3>
        <form id="addBookForm">
            <div class="form-group">
                <label for="bookName">Book Name:</label>
                <input type="text" class="form-control" id="bookName" name="bookName" required>
            </div>

            <div class="form-group">
                <label for="authorName">Author Name:</label>
                <input type="text" class="form-control" id="authorName" name="authorName" required>
            </div>

            <div class="form-group">
                <label for="bookPrice">Price: </label>
                <input type="text" class="form-control" id="bookPrice" name="bookPrice" required>
            </div>

            <div class="form-group">
                <label for="quantity">Quantity:</label>
                <input type="text" class="form-control" id="quantity" name="quantity" required>
            </div>

            <div class="form-group">
                <label for="pages">Pages:</label>
                <input type="text" class="form-control" id="pages" name="pages" required>
            </div>

            <button type="submit" class="btn btn-primary">Add Book</button>
            <a href="./showBooks.html" class="btn btn-secondry">Go to HomePage</a>
        </form>
    </div>

    <!-- Add more HTML elements for other operations and display -->

    <!-- Bootstrap JS and jQuery (for Bootstrap functionality) -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(() => {
            $('#addBookForm').submit((event) => {
                event.preventDefault();
                const formData = {
                    bookName: $('#bookName').val(),
                    authorName: $('#authorName').val(),
                    bookPrice: $('#bookPrice').val(),
                    quantity: $('#quantity').val(),
                    pages: $('#pages').val()
                };
                $.ajax({
                    type: 'POST',
                    url: 'http://localhost:3000/book/addBook',
                    data: JSON.stringify(formData),
                    contentType: 'application/json',
                    success: (data) => {
                        console.log('Book added:', data);
                        showNotification('Data saved successfully!', 'success');
                    },
                    error: (error) => {
                        console.error('Error adding student:', error);
                        showNotification('Error saving data. Please try again.', 'error');
                    },
                });
            });

            // Add similar AJAX requests for other operations (remove, modify)
            function showNotification(message, type) {
                Toastify({
                    text: message,
                    duration: 3000,
                    newWindow: true,
                    close: true,
                    gravity: 'top',
                    position: 'center',
                    backgroundColor: type === 'success' ? '#28a745' : '#dc3545',
                    stopOnFocus: true, // Prevents hiding on hover/focus
                    style: {
                        maxWidth: '400px',
                        background: 'linear-gradient(to right, #00C9FF, #92FE9D)', // Gradient background
                        color: '#333', // Text color
                        boxShadow: '0 0 10px rgba(0, 0, 0, 0.2)', // Box shadow
                        border: '1px solid #ddd', // Border
                        borderRadius: '8px', // Border radius
                    },
                    className: 'custom-toast', // Additional CSS class for further customization
                }).showToast();
            }
        });
    </script>
</body>

</html>